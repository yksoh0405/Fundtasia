@model UserProfileVM

@{
    ViewBag.Title = "View Profile";
    IEnumerable<Donation> donation = ViewBag.Donation;
    IEnumerable<UserMerchandise> userMerchandise = ViewBag.UserMerchandise;
}

@section head{
    <link href="~/Content/LoginRegister.css" rel="stylesheet" />
}

<form action="" method="post" id="loginForm" class="form-control" enctype="multipart/form-data">
    <div class="row">
        <div id="userName-container" class="form-group col-lg-12 col-md-8">
            <div id="firstName-container">
                <h5>@Html.Label("firstName", "FirstName")</h5>
                @Html.TextBoxFor(model => model.FirstName, new { @class = "form-control", id = "viewProf", @readonly = "readonly" })
            </div>
            <div id="lastName-container">
                <h5>@Html.Label("lastName", "LastName")</h5>
                @Html.TextBoxFor(model => model.LastName, new { @class = "form-control", id = "viewProf", @readonly = "readonly" })
            </div>
        </div>

        <div class="form-group col-lg-12 col-md-8">
            <h5>@Html.Label("email", "Email Address")</h5>
            @Html.TextBoxFor(model => model.Email, new { @class = "form-control", id = "viewProf", @readonly = "readonly" })
        </div>
    </div>

    <br />

    <div id="editUserBtn">
        @Html.ActionLink("Change Email", "ChangeEmail", "UserAuth", null, new { @class = "edit-btn", @type = "button" })&nbsp;&nbsp;&nbsp;
        @Html.ActionLink("Change Password", "ChangePassword", "UserAuth", null, new { @class = "edit-btn", @type = "button" })
    </div>
</form>



@if (donation.Count() > 0)
{
    <h2 class="mt-5 mb-3">Donation record</h2>
    <table class="table">
        <tr>
            <th class="text-left">Time donated</th>
            <th class="text-right">Amount</th>
        </tr>
        @foreach (var d in donation)
        {
            <tr>
                <td class="text-left">@d.TimeDonated</td>
                <td class="text-right">RM @d.Amount.ToString("F")</td>
            </tr>
        }
    </table>
}

@if (userMerchandise.Count() > 0)
{
    <h2 class="mt-5 mb-3">Merchandise record</h2>
    <table class="table">
        <tr>
            <th class="text-left">Purchase Time</th>
            <th class="text-right">Amount</th>
        </tr>
        @foreach (var um in userMerchandise)
        {
            <tr>
                <td class="text-left">@um.PurchaseTime</td>
                <td class="text-right">RM @um.Price.ToString("F")</td>
            </tr>
        }
    </table>
}